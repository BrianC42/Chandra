{
"comment - processing node section" : "Specification details for the processing nodes",
"processNodes" : [
	{
	"processNodeName" : "dataIn",
	"requiredFields" : {
		"processType" : "dataLoad",
		"comments: supported values - processType" : ["dataLoad", "dataPrep", "Tensorflow"],
		"inputFlows" : [],
		"outputFlow" : "marketDataMulti",
		"outputFile" : "",
		"logFile" : ""
	},
	"conditionalFields" : {
		"dataLoadCtrl" : {
			"inputFile" : ["d:\\brian\\AI-Projects\\tda\\market_analysis_data\\f.csv"]
		}
	}
	},
	{
	"processNodeName" : "PrepData",
	"requiredFields" : {
		"processType" : "dataPrep",
		"inputFlows" : ["marketDataMulti"],
		"outputFlow" : "Prepared",
		"logFile" : ""
	},
	"conditionalFields" : {
		"dataPrepCtrl" : {
			"preparationSequence" : ["normalize", "oneHotEncoding"],
			"normalize" : {
				"type" : "minmax",
				"features" : [
					{
					"feature" : "Volume"
					},
					{
					"feature" : "Relative Strength"
					},
					{
					"feature" : "ADX"
					},
					{
					"feature" : "AccumulationDistribution"
					}
				]
			},
			"oneHotEncoding" : {
				"features" : [
					{
					"feature" : "Close",
					"categoryType" : "seriesChangeUpDown",
					"categories" : ["Up" , "Down"],
					"outputFields" : ["closeUp", "closeDown"]
					},
					{
					"feature" : "Open",
					"categoryType" : "seriesChangeUpDown",
					"categories" : ["Up" , "Down"],
					"outputFields" : ["openUp", "openDown"]
					},
					{
					"feature" : "High",
					"categoryType" : "seriesChangeUpDown",
					"categories" : ["Up" , "Down"],
					"outputFields" : ["highUp", "highDown"]
					},
					{
					"feature" : "Low",
					"categoryType" : "seriesChangeUpDown",
					"categories" : ["Up" , "Down"],
					"outputFields" : ["lowUp", "lowDown"]
					},
					{
					"feature" : "OBV",
					"categoryType" : "seriesChangeUpDown",
					"categories" : ["Up" , "Down"],
					"outputFields" : ["OBVUp", "OBVDown"]
					},
					{
					"feature" : "MACD",
					"categoryType" : "seriesChangeUpDown",
					"categories" : ["Up" , "Down"],
					"outputFields" : ["MACDUp", "MACDDown"]
					}
				]
			}
		}
	}
	},
	{
	"processNodeName" : "mktMulti",
	"requiredFields" : {
		"comments: supported values - processType" : ["dataPrep", "Tensorflow"],
		"processType" : "Tensorflow",
		"inputFlows" : ["Prepared"],
		"outputFlow" : "",
		"outputFile" : "d:\\brian\\AI-Projects\\models\\mkt_multi",
		"logFile" : "d:\\brian\\AI-Projects\\logs\\mkt_multi.txt"
	},
	"conditionalFields" : {
		"modelFile" : "d:\\brian\\AI-Projects\\models\\mkt_multi",
		"dataPrecision" : "float32",
		"visualizations" : ["trainingFit", "targetSeries"],
		"supported visualizations" : ["trainingFit", "targetSeries"],
		"modelLayers" : [
			{
			"layerName" : "lstmIn",
			"layerType" : "lstm",
			"timeSteps" : 20,
			"featureCount": 15,
			"comment featureCount" : "needs to be set to the number of features after data preparartion step",
			"layerUnits" : 128,
			"returnSequences" : true,
			"outputActivation" : "tanh"
			},
			{
			"layerName" : "hidden-lstm",
			"layerType" : "lstm",
			"layerUnits" : 32,
			"returnSequences" : false,
			"outputActivation" : "tanh"
			},
			{
			"layerName" : "hidden-dense",
			"layerType" : "dense",
			"layerUnits" : 32
			},
			{
			"layerName" : "output",
			"layerType" : "dense",
			"layerUnits" : 2,
			"outputActivation" : "softmax"
			}
		],
		"training" : {
			"lossWeights" : [1.0],
			"denseRegularation" : false,
			"regularationValue" : 0.0,
			"batchSize" : 32,
			"epochs" : 6,
			"useBias" : true,
			"validationSplit" : 0.1,
			"testSplit" : 0.2,
			"shuffle" : false,
			"verbose" : 2,
			"balanceClasses" : true,
			"compilationLoss" : "mae",
			"compilationMetrics" : ["accuracy"],
			"optimizer" : "adam"
		}
	}
	}
],
"comment - dataflow section" : "Specification details for the flows of data between processing nodes",
"dataFlows" : [
	{
	"flowName" : "marketDataMulti",
	"requiredFields" : {
		"flowFrom" : "dataIn",
		"flowTo" : "PrepData",
		"flowDataFile" : "d:\\brian\\AI-Projects\\internal_flows\\mktDataMulti.csv"
		},
	"conditionalFields" : {
		"TensorflowData" : {
			"timeSequence" : true,
			"balanceClasses" : false,
			"ignoreBlanks" : true,
			"features" : ["Open", "High", "Low", "Volume", "OBV", "Relative Strength", "ADX", "AccumulationDistribution", "MACD", "MACD_flag"],
			"targets" : ["Close"],
			"seriesStepIDField" : ["DateTime"],
			"seriesDataType" : "TDADateTime"
			}
		}
	},
	{
	"flowName" : "Prepared",
	"requiredFields" : {
		"flowFrom" : "PrepData",
		"flowTo" : "mktMulti",
		"flowDataFile" : "d:\\brian\\AI-Projects\\internal_flows\\preparedMktDataMulti.csv"
		},
	"conditionalFields" : {
		"TensorflowData" : {
			"features" : ["DateTime", "Open", "High", "Low", "Volume", "OBV", "Relative Strength", "ADX", "AccumulationDistribution", "MACD", "MACD_flag"],
			"targets" : ["Close"],
			"seriesStepIDField" : ["DateTime"],
			"seriesDataType" : "TDADateTime"
			}
		}
	}
],
"comment end of specification" : "------------------------------------------------------------------------------------"
}